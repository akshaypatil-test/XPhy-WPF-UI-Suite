<UserControl x:Class="x_phy_wpf_ui.Controls.CreateCorpAccountComponent"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="700" d:DesignWidth="1000">
    <UserControl.Resources>
        <!-- Invisible scrollbar: scroll works (e.g. mouse wheel) but scrollbar is not shown -->
        <Style TargetType="ScrollBar">
            <Setter Property="Width" Value="0"/>
            <Setter Property="MinWidth" Value="0"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ScrollBar">
                        <Grid>
                            <Border Background="{TemplateBinding Background}" CornerRadius="2"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ModernTextBoxInnerStyleFullWidth" TargetType="TextBox">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{DynamicResource Brush.TextPrimary}"/>
            <Setter Property="CaretBrush" Value="{DynamicResource Brush.White}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <ScrollViewer x:Name="PART_ContentHost" VerticalAlignment="Center" Margin="0"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ModernPasswordBoxInnerStyle" TargetType="PasswordBox">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{DynamicResource Brush.TextPrimary}"/>
            <Setter Property="CaretBrush" Value="{DynamicResource Brush.White}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="12,8,40,8"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="PasswordBox">
                        <ScrollViewer x:Name="PART_ContentHost" VerticalAlignment="Center" Margin="0"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ModernTextBoxInnerStyle" TargetType="TextBox">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{DynamicResource Brush.TextPrimary}"/>
            <Setter Property="CaretBrush" Value="{DynamicResource Brush.White}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="12,8,40,8"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <ScrollViewer x:Name="PART_ContentHost" VerticalAlignment="Center" Margin="0"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="LaunchButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="{DynamicResource Brush.Primary}"/>
            <Setter Property="Foreground" Value="{DynamicResource Brush.White}"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="24,10"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="8" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="{DynamicResource Brush.PrimaryHover}"/>
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Background" Value="{DynamicResource Brush.Disabled}"/>
                    <Setter Property="Foreground" Value="{DynamicResource Brush.TextSecondary}"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="BackButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="{DynamicResource Brush.SecondaryHover}"/>
            <Setter Property="Foreground" Value="{DynamicResource Brush.White}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource Brush.Secondary}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="24,10"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="8" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="{DynamicResource Brush.SurfaceHover}"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </UserControl.Resources>

    <Grid Background="Transparent" Margin="32,24,32,24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Title block -->
        <StackPanel Grid.Row="0" HorizontalAlignment="Center" Margin="0,0,0,20">
            <TextBlock Text="Register Corporate User" FontSize="24" FontWeight="Bold" Foreground="{DynamicResource Brush.TextPrimary}" TextAlignment="Center"/>
            <TextBlock Text="Create a new corporate account for your organization" FontSize="14" Foreground="{DynamicResource Brush.TextSecondary}" TextAlignment="Center" Margin="0,6,0,0"/>
        </StackPanel>

        <TextBlock x:Name="ErrorMessageText" Grid.Row="1" Text="" FontSize="12" Foreground="{DynamicResource Brush.Error}" TextAlignment="Center" TextWrapping="Wrap" Margin="0,0,0,12" Visibility="Collapsed"/>

        <!-- Form card with invisible scroll when content overflows -->
        <ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" Padding="0,0,0,8">
        <Border Background="{DynamicResource Brush.Card}" BorderBrush="{DynamicResource Brush.Border}" BorderThickness="1" CornerRadius="12" Padding="28,24,28,24" HorizontalAlignment="Center">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="280"/>
                <ColumnDefinition Width="32"/>
                <ColumnDefinition Width="280"/>
            </Grid.ColumnDefinitions>

            <!-- LEFT COLUMN: Account details -->
            <StackPanel Grid.Column="0" VerticalAlignment="Top">
                <TextBlock Text="Account details" FontSize="11" FontWeight="SemiBold" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,14" />
                <TextBlock Text="First Name" FontSize="11" FontWeight="Bold" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,4"/>
                <Border x:Name="FirstNameFieldBorder" Background="{DynamicResource Brush.InputBackground}" BorderBrush="{DynamicResource Brush.Border}" BorderThickness="1" CornerRadius="6" MinHeight="38" Margin="0,0,0,6">
                    <Grid>
                        <TextBox x:Name="FirstNameTextBox" Style="{StaticResource ModernTextBoxInnerStyleFullWidth}" TextChanged="FirstNameTextBox_TextChanged"/>
                        <TextBlock x:Name="FirstNamePlaceholder" Text="Enter first name" Foreground="{DynamicResource Brush.TextSecondary}" FontSize="13" Margin="12,8,12,8" VerticalAlignment="Center" IsHitTestVisible="False"/>
                    </Grid>
                </Border>
                <TextBlock x:Name="FirstNameErrorText" Text="" FontSize="10" Foreground="{DynamicResource Brush.Error}" Margin="2,0,0,2" Visibility="Collapsed" TextWrapping="Wrap"/>

                <TextBlock Text="Last Name" FontSize="11" FontWeight="Bold" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,4"/>
                <Border x:Name="LastNameFieldBorder" Background="{DynamicResource Brush.InputBackground}" BorderBrush="{DynamicResource Brush.Border}" BorderThickness="1" CornerRadius="6" MinHeight="38" Margin="0,0,0,6">
                    <Grid>
                        <TextBox x:Name="LastNameTextBox" Style="{StaticResource ModernTextBoxInnerStyleFullWidth}" TextChanged="LastNameTextBox_TextChanged"/>
                        <TextBlock x:Name="LastNamePlaceholder" Text="Enter last name" Foreground="{DynamicResource Brush.TextSecondary}" FontSize="13" Margin="12,8,12,8" VerticalAlignment="Center" IsHitTestVisible="False"/>
                    </Grid>
                </Border>
                <TextBlock x:Name="LastNameErrorText" Text="" FontSize="10" Foreground="{DynamicResource Brush.Error}" Margin="2,0,0,2" Visibility="Collapsed" TextWrapping="Wrap"/>

                <TextBlock Text="Email" FontSize="11" FontWeight="Bold" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,4"/>
                <Border x:Name="EmailFieldBorder" Background="{DynamicResource Brush.InputBackground}" BorderBrush="{DynamicResource Brush.Border}" BorderThickness="1" CornerRadius="6" MinHeight="38" Margin="0,0,0,6">
                    <Grid>
                        <TextBox x:Name="EmailTextBox" Style="{StaticResource ModernTextBoxInnerStyleFullWidth}" TextChanged="EmailTextBox_TextChanged"/>
                        <TextBlock x:Name="EmailPlaceholder" Text="Enter email address" Foreground="{DynamicResource Brush.TextSecondary}" FontSize="13" Margin="12,8,12,8" VerticalAlignment="Center" IsHitTestVisible="False"/>
                    </Grid>
                </Border>
                <TextBlock x:Name="EmailErrorText" Text="" FontSize="10" Foreground="{DynamicResource Brush.Error}" Margin="2,0,0,2" Visibility="Collapsed" TextWrapping="Wrap"/>

                <TextBlock Text="Password" FontSize="11" FontWeight="Bold" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,4"/>
                <Border x:Name="PasswordFieldBorder" Background="{DynamicResource Brush.InputBackground}" BorderBrush="{DynamicResource Brush.Border}" BorderThickness="1" CornerRadius="6" MinHeight="38" Margin="0,0,0,6">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid Grid.Column="0">
                            <PasswordBox x:Name="PasswordBox" Style="{StaticResource ModernPasswordBoxInnerStyle}" PasswordChanged="PasswordBox_PasswordChanged"/>
                            <TextBox x:Name="PasswordRevealTextBox" Style="{StaticResource ModernTextBoxInnerStyle}" Visibility="Collapsed" TextChanged="PasswordRevealTextBox_TextChanged"/>
                            <TextBlock x:Name="PasswordPlaceholder" Text="Create a password" Foreground="{DynamicResource Brush.TextSecondary}" FontSize="13" Margin="12,8,40,8" VerticalAlignment="Center" IsHitTestVisible="False"/>
                        </Grid>
                        <Button x:Name="PasswordEyeButton" Grid.Column="1" Width="36" Height="32" VerticalAlignment="Center" Margin="0,0,6,0" Background="Transparent" BorderThickness="0" Cursor="Hand" Click="PasswordEyeButton_Click">
                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}" Padding="4">
                                        <Viewbox Width="16" Height="16">
                                            <Path Fill="{DynamicResource Brush.TextSecondary}" Data="M12,4.5 C7,4.5 2.73,7.61 1,12 2.73,16.39 7,19.5 12,19.5 17,19.5 21.27,16.39 23,12 21.27,7.61 17,4.5 12,4.5 Z M12,17 C9.24,17 7,14.76 7,12 7,9.24 9.24,7 12,7 14.76,7 17,9.24 17,12 17,14.76 14.76,17 12,17 Z"/>
                                        </Viewbox>
                                    </Border>
                                </ControlTemplate>
                            </Button.Template>
                        </Button>
                    </Grid>
                </Border>
                <TextBlock x:Name="PasswordErrorText" Text="" FontSize="10" Foreground="{DynamicResource Brush.Error}" Margin="2,0,0,2" Visibility="Collapsed" TextWrapping="Wrap"/>

                <TextBlock Text="Confirm Password" FontSize="11" FontWeight="Bold" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,4"/>
                <Border x:Name="ConfirmPasswordFieldBorder" Background="{DynamicResource Brush.InputBackground}" BorderBrush="{DynamicResource Brush.Border}" BorderThickness="1" CornerRadius="6" MinHeight="38" Margin="0,0,0,6">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid Grid.Column="0">
                            <PasswordBox x:Name="ConfirmPasswordBox" Style="{StaticResource ModernPasswordBoxInnerStyle}" PasswordChanged="ConfirmPasswordBox_PasswordChanged"/>
                            <TextBox x:Name="ConfirmPasswordRevealTextBox" Style="{StaticResource ModernTextBoxInnerStyle}" Visibility="Collapsed" TextChanged="ConfirmPasswordRevealTextBox_TextChanged"/>
                            <TextBlock x:Name="ConfirmPasswordPlaceholder" Text="Re-enter password" Foreground="{DynamicResource Brush.TextSecondary}" FontSize="13" Margin="12,8,40,8" VerticalAlignment="Center" IsHitTestVisible="False"/>
                        </Grid>
                        <Button x:Name="ConfirmPasswordEyeButton" Grid.Column="1" Width="36" Height="32" VerticalAlignment="Center" Margin="0,0,6,0" Background="Transparent" BorderThickness="0" Cursor="Hand" Click="ConfirmPasswordEyeButton_Click">
                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}" Padding="4">
                                        <Viewbox Width="16" Height="16">
                                            <Path Fill="{DynamicResource Brush.TextSecondary}" Data="M12,4.5 C7,4.5 2.73,7.61 1,12 2.73,16.39 7,19.5 12,19.5 17,19.5 21.27,16.39 23,12 21.27,7.61 17,4.5 12,4.5 Z M12,17 C9.24,17 7,14.76 7,12 7,9.24 9.24,7 12,7 14.76,7 17,9.24 17,12 17,14.76 14.76,17 12,17 Z"/>
                                        </Viewbox>
                                    </Border>
                                </ControlTemplate>
                            </Button.Template>
                        </Button>
                    </Grid>
                </Border>
                <TextBlock x:Name="ConfirmPasswordErrorText" Text="" FontSize="10" Foreground="{DynamicResource Brush.Error}" Margin="2,0,0,2" Visibility="Collapsed" TextWrapping="Wrap"/>

                <TextBlock Text="Max Devices" FontSize="11" FontWeight="Bold" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,4"/>
                <Border x:Name="MaxDevicesFieldBorder" Background="{DynamicResource Brush.InputBackground}" BorderBrush="{DynamicResource Brush.Border}" BorderThickness="1" CornerRadius="6" MinHeight="38" Margin="0,0,0,6">
                    <TextBox x:Name="MaxDevicesTextBox" Style="{StaticResource ModernTextBoxInnerStyleFullWidth}" TextChanged="MaxDevicesTextBox_TextChanged"/>
                </Border>
                <TextBlock x:Name="MaxDevicesErrorText" Text="" FontSize="10" Foreground="{DynamicResource Brush.Error}" Margin="2,0,0,2" Visibility="Collapsed" TextWrapping="Wrap"/>
            </StackPanel>

            <!-- RIGHT COLUMN: Organization details -->
            <StackPanel Grid.Column="2" VerticalAlignment="Top">
                <TextBlock Text="Organization &amp; policy" FontSize="11" FontWeight="SemiBold" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,14" />
                <TextBlock Text="Policy Number" FontSize="11" FontWeight="Bold" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,4"/>
                <Border x:Name="PolicyNumberFieldBorder" Background="{DynamicResource Brush.InputBackground}" BorderBrush="{DynamicResource Brush.Border}" BorderThickness="1" CornerRadius="6" MinHeight="38" Margin="0,0,0,6">
                    <TextBox x:Name="PolicyNumberTextBox" Style="{StaticResource ModernTextBoxInnerStyleFullWidth}" TextChanged="PolicyNumberTextBox_TextChanged"/>
                </Border>
                <TextBlock x:Name="PolicyNumberErrorText" Text="" FontSize="10" Foreground="{DynamicResource Brush.Error}" Margin="2,0,0,2" Visibility="Collapsed" TextWrapping="Wrap"/>

                <TextBlock Text="Organization Name" FontSize="11" FontWeight="Bold" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,4"/>
                <Border x:Name="OrganizationNameFieldBorder" Background="{DynamicResource Brush.InputBackground}" BorderBrush="{DynamicResource Brush.Border}" BorderThickness="1" CornerRadius="6" MinHeight="38" Margin="0,0,0,6">
                    <TextBox x:Name="OrganizationNameTextBox" Style="{StaticResource ModernTextBoxInnerStyleFullWidth}" TextChanged="OrganizationNameTextBox_TextChanged"/>
                </Border>

                <TextBlock Text="Contact Person Name" FontSize="11" FontWeight="Bold" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,4"/>
                <Border x:Name="ContactPersonNameFieldBorder" Background="{DynamicResource Brush.InputBackground}" BorderBrush="{DynamicResource Brush.Border}" BorderThickness="1" CornerRadius="6" MinHeight="38" Margin="0,0,0,6">
                    <TextBox x:Name="ContactPersonNameTextBox" Style="{StaticResource ModernTextBoxInnerStyleFullWidth}" TextChanged="ContactPersonNameTextBox_TextChanged"/>
                </Border>

                <TextBlock Text="Country Code" FontSize="11" FontWeight="Bold" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,4"/>
                <Border x:Name="CountryCodeFieldBorder" Background="{DynamicResource Brush.InputBackground}" BorderBrush="{DynamicResource Brush.Border}" BorderThickness="1" CornerRadius="6" MinHeight="38" Margin="0,0,0,6">
                    <TextBox x:Name="CountryCodeTextBox" Style="{StaticResource ModernTextBoxInnerStyleFullWidth}" TextChanged="CountryCodeTextBox_TextChanged"/>
                </Border>
                <TextBlock x:Name="CountryCodeErrorText" Text="" FontSize="10" Foreground="{DynamicResource Brush.Error}" Margin="2,0,0,2" Visibility="Collapsed" TextWrapping="Wrap"/>

                <TextBlock Text="Contact Number" FontSize="11" FontWeight="Bold" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,4"/>
                <Border x:Name="ContactNumberFieldBorder" Background="{DynamicResource Brush.InputBackground}" BorderBrush="{DynamicResource Brush.Border}" BorderThickness="1" CornerRadius="6" MinHeight="38" Margin="0,0,0,6">
                    <TextBox x:Name="ContactNumberTextBox" Style="{StaticResource ModernTextBoxInnerStyleFullWidth}" TextChanged="ContactNumberTextBox_TextChanged"/>
                </Border>
                <TextBlock x:Name="ContactNumberErrorText" Text="" FontSize="10" Foreground="{DynamicResource Brush.Error}" Margin="2,0,0,2" Visibility="Collapsed" TextWrapping="Wrap"/>

                <TextBlock Text="Order Number" FontSize="11" FontWeight="Bold" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,4"/>
                <Border x:Name="OrderNumberFieldBorder" Background="{DynamicResource Brush.InputBackground}" BorderBrush="{DynamicResource Brush.Border}" BorderThickness="1" CornerRadius="6" MinHeight="38" Margin="0,0,0,6">
                    <TextBox x:Name="OrderNumberTextBox" Style="{StaticResource ModernTextBoxInnerStyleFullWidth}" TextChanged="OrderNumberTextBox_TextChanged"/>
                </Border>

                <TextBlock Text="Activation Date" FontSize="11" FontWeight="Bold" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,4"/>
                <Border x:Name="ActivationDateFieldBorder" Background="{DynamicResource Brush.InputBackground}" BorderBrush="{DynamicResource Brush.Border}" BorderThickness="1" CornerRadius="6" MinHeight="38" Margin="0,0,0,6">
                    <DatePicker x:Name="ActivationDatePicker"
                                Background="Transparent"
                                Foreground="{DynamicResource Brush.TextPrimary}"
                                BorderThickness="0"
                                Padding="12,8"
                                FontSize="14"
                                SelectedDateChanged="ActivationDatePicker_SelectedDateChanged"
                                VerticalAlignment="Center"/>
                </Border>
                <TextBlock x:Name="ActivationDateErrorText" Text="" FontSize="10" Foreground="{DynamicResource Brush.Error}" Margin="2,0,0,2" Visibility="Collapsed" TextWrapping="Wrap"/>
            </StackPanel>
        </Grid>
        </Border>
        </ScrollViewer>

        <!-- Buttons centered -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,28,0,0">
            <Button x:Name="CreateButton" Content="Create Account" Style="{StaticResource LaunchButtonStyle}" Click="Create_Click" IsEnabled="False" Margin="0,0,14,0"/>
            <Button Content="Back" Style="{StaticResource BackButtonStyle}" Click="Back_Click"/>
        </StackPanel>
    </Grid>
</UserControl>
