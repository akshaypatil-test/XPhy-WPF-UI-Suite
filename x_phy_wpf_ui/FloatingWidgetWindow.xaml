<Window x:Class="x_phy_wpf_ui.FloatingWidgetWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="X-PHY"
        Width="80" Height="80"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        ResizeMode="NoResize"
        MouseLeftButtonDown="Window_MouseLeftButtonDown">
    <!-- #01FFFFFF = nearly invisible so entire area is draggable (transparent pixels can skip hit-test) -->
    <Grid Width="80" Height="80" Background="#01FFFFFF">
        <!-- Arc loader (same style as Loader screen): green initially, red when deepfake detected -->
        <Path x:Name="RollingArcPath" Fill="Transparent" Width="80" Height="80" StrokeThickness="4"
              StrokeStartLineCap="Round" StrokeEndLineCap="Round"
              Stretch="None" HorizontalAlignment="Center" VerticalAlignment="Center">
            <Path.Stroke>
                <SolidColorBrush Color="#22C55E"/>
            </Path.Stroke>
        </Path>
        <!-- Black circle background (like reference) -->
        <Ellipse Width="66" Height="66" Fill="#000000"/>
        <!-- Center: X-PHY lock icon -->
        <Image Source="pack://application:,,,/xphy_lock_icon.png"
               Width="55" Height="55"
               Stretch="Fill"
               RenderOptions.BitmapScalingMode="HighQuality"/>
    </Grid>
</Window>
